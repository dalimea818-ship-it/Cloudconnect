<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | CloudConnect</title>
    <link rel="stylesheet" href="dashboard.css">
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <style>
        body { display: flex; justify-content: center; align-items: center; min-height: 100vh; background: #000; }
        .auth-card { width: 380px; padding: 40px; border-radius: 40px; background: rgba(255,255,255,0.05); backdrop-filter: blur(50px); border: 1px solid rgba(255,255,255,0.1); text-align: center; }
        .social-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px; }
        .social-btn { display: flex; align-items: center; justify-content: center; gap: 8px; padding: 12px; border-radius: 15px; border: none; cursor: pointer; font-weight: 600; font-size: 0.85rem; transition: 0.2s; }
        .full-width { grid-column: span 2; }
        .google { background: #fff; color: #000; }
        .apple { background: #000; color: #fff; border: 1px solid #444; }
        .microsoft { background: #2f2f2f; color: #fff; }
        .facebook { background: #1877f2; color: #fff; }
        .github { background: #333; color: #fff; }
    </style>
</head>
<body>
    <div class="bg-blob blob-1"></div>
    <div class="bg-blob blob-2"></div>
    <div class="auth-card">
        <h1 style="color:white; letter-spacing:-1.5px;">CloudConnect</h1>
        <p style="color:rgba(255,255,255,0.5); font-size:0.9rem;">The future of glass storage</p>

        <div class="social-grid">
            <button class="social-btn google full-width" onclick="auth('google')">Continue with Google</button>
            <button class="social-btn apple" onclick="auth('apple')">Apple</button>
            <button class="social-btn microsoft" onclick="auth('microsoft')">Microsoft</button>
            <button class="social-btn facebook" onclick="auth('facebook')">Facebook</button>
            <button class="social-btn github" onclick="auth('github')">GitHub</button>
        </div>
    </div>

    <script>
        const firebaseConfig = { /* PASTE YOUR CONFIG HERE */ };
        firebase.initializeApp(firebaseConfig);

        async function auth(providerName) {
            let provider;
            if(providerName === 'google') provider = new firebase.auth.GoogleAuthProvider();
            if(providerName === 'apple') provider = new firebase.auth.OAuthProvider('apple.com');
            if(providerName === 'microsoft') provider = new firebase.auth.OAuthProvider('microsoft.com');
            if(providerName === 'facebook') provider = new firebase.auth.FacebookAuthProvider();
            if(providerName === 'github') provider = new firebase.auth.GithubAuthProvider();

            try {
                const result = await firebase.auth().signInWithPopup(provider);
                const idToken = await result.user.getIdToken();
                const res = await fetch('/api/auth/firebase', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ idToken })
                });
                if(res.ok) window.location.href = '/dashboard';
            } catch (e) { alert("Login failed: " + e.message); }
        }
    </script>
</body>
</html>
